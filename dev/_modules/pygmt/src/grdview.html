


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>pygmt.src.grdview &mdash; PyGMT</title>
    

      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/style.css?v=2ba370f3" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
    <link rel="canonical" href="https://pygmt.org//dev/_modules/pygmt/src/grdview.html" />
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=84d2b63f"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=ccdb6887"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <!-- Google Analytics tracking code -->
    <!-- See https://developers.google.com/analytics/devguides/collection/analyticsjs/ for documentation. -->
    <!-- 'storage': 'none' disables cookies -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
            Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-38125837-7', 'auto', {'storage': 'none'});
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>

    <!-- Documentation switcher -->
    <!-- Point to the *dev* version switcher. This will allow the latest versions to appear on older documentation. -->
    <script type="text/javascript" src="/dev/_static/version_switch.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   
   
   <a href="../../../index.html">
     <h2 class="sidebar-title">PyGMT</h2>
   </a>
     <div class="version">
       dev
     </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../intro/index.html">Intro to PyGMT</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../projections/index.html">Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../external_resources.html">External Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../techref/index.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../minversions.html">Minimum Supported Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem.html">Ecosystem</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../team.html">PyGMT Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintenance.html">Maintainers Guide</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help and contributing</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/.github/blob/main/CODE_OF_CONDUCT.md"><i class="fa fa-gavel fa-fw"></i> Code of Conduct</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt/blob/main/LICENSE.txt"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org"><i class="fa fa-comment fa-fw"></i> Contact</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">PyGMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">pygmt.src.grdview</li>
    <li class="source-link">
        
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pygmt.src.grdview</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">grdview - Create 3-D perspective image or surface mesh from a grid.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">collections.abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Sequence</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">packaging.version</span><span class="w"> </span><span class="kn">import</span> <span class="n">Version</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygmt._typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">PathLike</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygmt.alias</span><span class="w"> </span><span class="kn">import</span> <span class="n">Alias</span><span class="p">,</span> <span class="n">AliasSystem</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygmt.clib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Session</span><span class="p">,</span> <span class="n">__gmt_version__</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygmt.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">GMTParameterError</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygmt.helpers</span><span class="w"> </span><span class="kn">import</span> <span class="n">build_arg_list</span><span class="p">,</span> <span class="n">deprecate_parameter</span><span class="p">,</span> <span class="n">fmt_docstring</span><span class="p">,</span> <span class="n">use_alias</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygmt.src.grdinfo</span><span class="w"> </span><span class="kn">import</span> <span class="n">grdinfo</span>

<span class="n">__doctest_skip__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;grdview&quot;</span><span class="p">]</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_alias_option_Q</span><span class="p">(</span>  <span class="c1"># noqa: N802</span>
    <span class="n">surftype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mesh_fill</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">monochrome</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nan_transparent</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function to build the Alias list for the -Q option.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; def parse(**kwargs):</span>
<span class="sd">    ...     return AliasSystem(Q=_alias_option_Q(**kwargs)).get(&quot;Q&quot;)</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;surface&quot;)</span>
<span class="sd">    &#39;s&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;mesh&quot;)</span>
<span class="sd">    &#39;m&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;surface+mesh&quot;)</span>
<span class="sd">    &#39;sm&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;waterfall_x&quot;)</span>
<span class="sd">    &#39;mx&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;waterfall_y&quot;)</span>
<span class="sd">    &#39;my&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;image&quot;)</span>
<span class="sd">    &#39;i&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;image&quot;, nan_transparent=True)</span>
<span class="sd">    &#39;c&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;image&quot;, dpi=150)</span>
<span class="sd">    &#39;i150&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;image&quot;, dpi=150, nan_transparent=True)</span>
<span class="sd">    &#39;c150&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;mesh&quot;, mesh_fill=&quot;blue&quot;)</span>
<span class="sd">    &#39;mblue&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;surface&quot;, monochrome=True)</span>
<span class="sd">    &#39;s+m&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(surftype=&quot;surface+mesh&quot;, monochrome=True)</span>
<span class="sd">    &#39;sm+m&#39;</span>

<span class="sd">    &gt;&gt;&gt; # Check for backward compatibility with old raw GMT syntax.</span>
<span class="sd">    &gt;&gt;&gt; for surftype in [&quot;s&quot;, &quot;m&quot;, &quot;sm&quot;, &quot;i&quot;, &quot;c&quot;, &quot;mx&quot;, &quot;my&quot;, &quot;mblue&quot;, &quot;i150&quot;]:</span>
<span class="sd">    ...     assert parse(surftype=surftype) == surftype</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_surftype_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;surface&quot;</span><span class="p">:</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mesh&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surface+mesh&quot;</span><span class="p">:</span> <span class="s2">&quot;sm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span> <span class="k">if</span> <span class="n">nan_transparent</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;waterfall_x&quot;</span><span class="p">:</span> <span class="s2">&quot;mx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;waterfall_y&quot;</span><span class="p">:</span> <span class="s2">&quot;my&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="c1"># Previously, &#39;surftype&#39; was aliased to Q.</span>
    <span class="n">_old_surftype_syntax</span> <span class="o">=</span> <span class="n">surftype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">surftype</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_surftype_mapping</span>

    <span class="k">if</span> <span class="n">_old_surftype_syntax</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">dpi</span><span class="p">,</span> <span class="n">mesh_fill</span><span class="p">,</span> <span class="n">monochrome</span><span class="p">,</span> <span class="n">nan_transparent</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="n">GMTParameterError</span><span class="p">(</span>
            <span class="n">conflicts_with</span><span class="o">=</span><span class="p">(</span>
                <span class="s2">&quot;surftype&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;dpi&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh_fill&quot;</span><span class="p">,</span> <span class="s2">&quot;monochrome&quot;</span><span class="p">,</span> <span class="s2">&quot;nan_transparent&quot;</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;&#39;surftype&#39; is specified using the unrecommended GMT command string syntax.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">dpi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">surftype</span> <span class="o">!=</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">GMTParameterError</span><span class="p">(</span>
            <span class="n">conflicts_with</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;dpi&quot;</span><span class="p">,</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;surftype=</span><span class="si">{</span><span class="n">surftype</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">]),</span>
            <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;&#39;dpi&#39; is allowed only when &#39;surftype&#39; is &#39;image&#39;.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">nan_transparent</span> <span class="ow">and</span> <span class="n">surftype</span> <span class="o">!=</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">GMTParameterError</span><span class="p">(</span>
            <span class="n">conflicts_with</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;nan_transparent&quot;</span><span class="p">,</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;surftype=</span><span class="si">{</span><span class="n">surftype</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">]),</span>
            <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;&#39;nan_transparent&#39; is allowed only when &#39;surftype&#39; is &#39;image&#39;.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">mesh_fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">surftype</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;mesh&quot;</span><span class="p">,</span> <span class="s2">&quot;waterfall_x&quot;</span><span class="p">,</span> <span class="s2">&quot;waterfall_y&quot;</span><span class="p">}:</span>
        <span class="k">raise</span> <span class="n">GMTParameterError</span><span class="p">(</span>
            <span class="n">conflicts_with</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;mesh_fill&quot;</span><span class="p">,</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;surftype=</span><span class="si">{</span><span class="n">surftype</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">]),</span>
            <span class="n">reason</span><span class="o">=</span><span class="s2">&quot;&#39;mesh_fill&#39; is allowed only when &#39;surftype&#39; is &#39;mesh&#39;, &#39;waterfall_x&#39;, or &#39;waterfall_y&#39;.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">Alias</span><span class="p">(</span>
            <span class="n">surftype</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;surftype&quot;</span><span class="p">,</span>
            <span class="n">mapping</span><span class="o">=</span><span class="n">_surftype_mapping</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">_old_surftype_syntax</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">Alias</span><span class="p">(</span><span class="n">dpi</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dpi&quot;</span><span class="p">),</span>
        <span class="n">Alias</span><span class="p">(</span><span class="n">mesh_fill</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mesh_fill&quot;</span><span class="p">),</span>
        <span class="n">Alias</span><span class="p">(</span><span class="n">monochrome</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;monochrome&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;+m&quot;</span><span class="p">),</span>
    <span class="p">]</span>


<span class="nd">@fmt_docstring</span>
<span class="c1"># TODO(PyGMT&gt;=0.20.0): Remove the deprecated &#39;*pen&#39; parameters.</span>
<span class="c1"># TODO(PyGMT&gt;=0.20.0): Remove the deprecated &#39;drapegrid&#39; parameter.</span>
<span class="nd">@deprecate_parameter</span><span class="p">(</span><span class="s2">&quot;contourpen&quot;</span><span class="p">,</span> <span class="s2">&quot;contour_pen&quot;</span><span class="p">,</span> <span class="s2">&quot;v0.18.0&quot;</span><span class="p">,</span> <span class="n">remove_version</span><span class="o">=</span><span class="s2">&quot;v0.20.0&quot;</span><span class="p">)</span>
<span class="nd">@deprecate_parameter</span><span class="p">(</span><span class="s2">&quot;facadepen&quot;</span><span class="p">,</span> <span class="s2">&quot;facade_pen&quot;</span><span class="p">,</span> <span class="s2">&quot;v0.18.0&quot;</span><span class="p">,</span> <span class="n">remove_version</span><span class="o">=</span><span class="s2">&quot;v0.20.0&quot;</span><span class="p">)</span>
<span class="nd">@deprecate_parameter</span><span class="p">(</span><span class="s2">&quot;meshpen&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh_pen&quot;</span><span class="p">,</span> <span class="s2">&quot;v0.18.0&quot;</span><span class="p">,</span> <span class="n">remove_version</span><span class="o">=</span><span class="s2">&quot;v0.20.0&quot;</span><span class="p">)</span>
<span class="nd">@deprecate_parameter</span><span class="p">(</span><span class="s2">&quot;drapegrid&quot;</span><span class="p">,</span> <span class="s2">&quot;drape_grid&quot;</span><span class="p">,</span> <span class="s2">&quot;v0.18.0&quot;</span><span class="p">,</span> <span class="n">remove_version</span><span class="o">=</span><span class="s2">&quot;v0.20.0&quot;</span><span class="p">)</span>
<span class="nd">@use_alias</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="s2">&quot;cmap&quot;</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="s2">&quot;drape_grid&quot;</span><span class="p">,</span> <span class="n">I</span><span class="o">=</span><span class="s2">&quot;shading&quot;</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="s2">&quot;coltypes&quot;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="s2">&quot;interpolation&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">grdview</span><span class="p">(</span>  <span class="c1"># noqa: PLR0913</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">grid</span><span class="p">:</span> <span class="n">PathLike</span> <span class="o">|</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">,</span>
    <span class="n">surftype</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;mesh&quot;</span><span class="p">,</span> <span class="s2">&quot;surface&quot;</span><span class="p">,</span> <span class="s2">&quot;surface+mesh&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;waterfall_x&quot;</span><span class="p">,</span> <span class="s2">&quot;waterfall_y&quot;</span>
    <span class="p">]</span>
    <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dpi</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">nan_transparent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">monochrome</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">contour_pen</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">mesh_fill</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">mesh_pen</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">plane</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">facade_fill</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">facade_pen</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">projection</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">zscale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">zsize</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">frame</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;quiet&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;warning&quot;</span><span class="p">,</span> <span class="s2">&quot;timing&quot;</span><span class="p">,</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;compat&quot;</span><span class="p">,</span> <span class="s2">&quot;debug&quot;</span><span class="p">]</span>
    <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">panel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">perspective</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">transparency</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create 3-D perspective image or surface mesh from a grid.</span>

<span class="sd">    Reads a 2-D grid file and produces a 3-D perspective plot by drawing a mesh,</span>
<span class="sd">    painting a colored/gray-shaded surface made up of polygons, or by scanline</span>
<span class="sd">    conversion of these polygons to a raster image. Options include draping a data</span>
<span class="sd">    set on top of a surface, plotting of contours on top of the surface, and apply</span>
<span class="sd">    artificial illumination based on intensities provided in a separate grid file.</span>

<span class="sd">    Full GMT docs at :gmt-docs:`grdview.html`.</span>

<span class="sd">    $aliases</span>
<span class="sd">       - B = frame</span>
<span class="sd">       - J = projection</span>
<span class="sd">       - Jz = zscale</span>
<span class="sd">       - JZ = zsize</span>
<span class="sd">       - N = plane, facade_fill</span>
<span class="sd">       - R = region</span>
<span class="sd">       - Q = surftype, dpi, mesh_fill, nan_transparent, **+m**: monochrome</span>
<span class="sd">       - V = verbose</span>
<span class="sd">       - Wc = contour_pen</span>
<span class="sd">       - Wf = facade_pen</span>
<span class="sd">       - Wm = mesh_pen</span>
<span class="sd">       - c = panel</span>
<span class="sd">       - p = perspective</span>
<span class="sd">       - t = transparency</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    $grid</span>
<span class="sd">    cmap : str</span>
<span class="sd">        The name of the color palette table to use.</span>
<span class="sd">    drape_grid : str or :class:`xarray.DataArray`</span>
<span class="sd">        The file name or a :class:`xarray.DataArray` of the image grid to be draped on</span>
<span class="sd">        top of the relief provided by ``grid`` [Default determines colors from ``grid``]</span>
<span class="sd">        Note that ``zscale`` and ``plane`` always refer to ``grid``. ``drape_grid`` only</span>
<span class="sd">        provides the information pertaining to colors, which (if ``drape_grid`` is a</span>
<span class="sd">        grid) will be looked-up via the CPT (see ``cmap``).</span>
<span class="sd">    surftype</span>
<span class="sd">        Specify surface type for the grid. Valid values are:</span>

<span class="sd">        - ``&quot;mesh&quot;``: mesh plot [Default].</span>
<span class="sd">        - ``&quot;surface&quot;``: surface plot.</span>
<span class="sd">        - ``&quot;surface+mesh&quot;``: surface plot with mesh lines drawn on top of the surface.</span>
<span class="sd">        - ``&quot;image&quot;``: image plot.</span>
<span class="sd">        - ``&quot;waterfall_x&quot;``/``&quot;waterfall_y&quot;``: waterfall plots (row or column profiles).</span>
<span class="sd">    dpi</span>
<span class="sd">        Effective dots-per-unit resolution for the rasterization for image plots (i.e.,</span>
<span class="sd">        ``surftype=&quot;image&quot;``) [Default is :gmt-term:`GMT_GRAPHICS_DPU`]</span>
<span class="sd">    nan_transparent</span>
<span class="sd">        Make grid nodes with z = NaN transparent, using the color-masking feature in</span>
<span class="sd">        PostScript Level 3. Only applies when ``surftype=&quot;image&quot;``.</span>
<span class="sd">    monochrome</span>
<span class="sd">        Force conversion to monochrome image using the (television) YIQ transformation.</span>
<span class="sd">    contour_pen</span>
<span class="sd">        Draw contour lines on top of surface or mesh (not image). Append pen attributes</span>
<span class="sd">        used for the contours.</span>
<span class="sd">    mesh_pen</span>
<span class="sd">        Set the pen attributes used for the mesh. Need to set ``surftype`` to</span>
<span class="sd">        ``&quot;mesh&quot;``, or ``&quot;surface+mesh&quot;`` to draw meshlines.</span>
<span class="sd">    mesh_fill</span>
<span class="sd">        Set the mesh fill in mesh plot or waterfall plots [Default is white].</span>
<span class="sd">    plane</span>
<span class="sd">        Draw a plane at the specified z-level. If ``True``, defaults to the minimum</span>
<span class="sd">        value in the grid. However, if ``region`` was used to set *zmin/zmax* then</span>
<span class="sd">        *zmin* is used if it is less than the grid minimum value. Use ``facade_pen`` and</span>
<span class="sd">        ``facade_fill`` to control the appearance of the plane.</span>
<span class="sd">        **Note**: For GMT&lt;=6.6.0, *zmin* set in ``region`` has no effect due to a GMT</span>
<span class="sd">        bug.</span>
<span class="sd">    facade_fill</span>
<span class="sd">        Fill for the frontal facade between the plane specified by ``plane`` and the</span>
<span class="sd">        data perimeter.</span>
<span class="sd">    facade_pen</span>
<span class="sd">        Set the pen attributes used for the facade.</span>
<span class="sd">    shading : str or float</span>
<span class="sd">        Provide the name of a grid file with intensities in the (-1,+1) range, or a</span>
<span class="sd">        constant intensity to apply everywhere (affects the ambient light).</span>
<span class="sd">        Alternatively, derive an intensity grid from the main input data grid by using</span>
<span class="sd">        :func:`pygmt.grdgradient` first; append **+a**\ *azimuth*, **+n**\ *args*, and</span>
<span class="sd">        **+m**\ *ambient* to specify azimuth, intensity, and ambient arguments for that</span>
<span class="sd">        function, or just give **+d** to select the default arguments [Default is</span>
<span class="sd">        ``&quot;+a-45+nt1+m0&quot;``].</span>
<span class="sd">    $projection</span>
<span class="sd">    zscale</span>
<span class="sd">    zsize</span>
<span class="sd">        Set z-axis scaling or z-axis size.</span>
<span class="sd">    region : str or list</span>
<span class="sd">        *xmin/xmax/ymin/ymax*\ [**+r**][**+u**\ *unit*].</span>
<span class="sd">        Specify the :doc:`region &lt;/tutorials/basics/regions&gt;` of interest. When used</span>
<span class="sd">        with ``perspective``, optionally append */zmin/zmax* to indicate the range to</span>
<span class="sd">        use for the 3-D axes [Default is the region given by the input grid].</span>
<span class="sd">    $frame</span>
<span class="sd">    $verbose</span>
<span class="sd">    $panel</span>
<span class="sd">    $coltypes</span>
<span class="sd">    $interpolation</span>
<span class="sd">    $perspective</span>
<span class="sd">    $transparency</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; import pygmt</span>
<span class="sd">    &gt;&gt;&gt; # Load the 30 arc-minutes grid with &quot;gridline&quot; registration in a given region</span>
<span class="sd">    &gt;&gt;&gt; grid = pygmt.datasets.load_earth_relief(</span>
<span class="sd">    ...     resolution=&quot;30m&quot;,</span>
<span class="sd">    ...     region=[-92.5, -82.5, -3, 7],</span>
<span class="sd">    ...     registration=&quot;gridline&quot;,</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; # Create a new figure instance with pygmt.Figure()</span>
<span class="sd">    &gt;&gt;&gt; fig = pygmt.Figure()</span>
<span class="sd">    &gt;&gt;&gt; # Create the contour plot</span>
<span class="sd">    &gt;&gt;&gt; fig.grdview(</span>
<span class="sd">    ...     # Pass in the grid downloaded above</span>
<span class="sd">    ...     grid=grid,</span>
<span class="sd">    ...     # Set the perspective to an azimuth of 130° and an elevation of 30°</span>
<span class="sd">    ...     perspective=[130, 30],</span>
<span class="sd">    ...     # Add a frame to the x- and y-axes</span>
<span class="sd">    ...     # Specify annotations on the south and east borders of the plot</span>
<span class="sd">    ...     frame=[&quot;xa&quot;, &quot;ya&quot;, &quot;wSnE&quot;],</span>
<span class="sd">    ...     # Set the projection of the 2-D map to Mercator with a 10 cm width</span>
<span class="sd">    ...     projection=&quot;M10c&quot;,</span>
<span class="sd">    ...     # Set the vertical scale (z-axis) to 2 cm</span>
<span class="sd">    ...     zsize=&quot;2c&quot;,</span>
<span class="sd">    ...     # Set &quot;surface plot&quot; to color the surface via a CPT</span>
<span class="sd">    ...     surftype=&quot;surface&quot;,</span>
<span class="sd">    ...     # Specify CPT to &quot;geo&quot;</span>
<span class="sd">    ...     cmap=&quot;gmt/geo&quot;,</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; # Show the plot</span>
<span class="sd">    &gt;&gt;&gt; fig.show()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_activate_figure</span><span class="p">()</span>

    <span class="c1"># Enable &#39;plane&#39; if &#39;facade_fill&#39; or &#39;facade_pen&#39; are set</span>
    <span class="k">if</span> <span class="n">plane</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="p">(</span><span class="n">facade_fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">facade_pen</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">plane</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Workaround for GMT bug https://github.com/GenericMappingTools/gmt/pull/8838</span>
    <span class="c1"># Fix the plane value to be the grid minimum if plane=True.</span>
    <span class="c1"># Notes:</span>
    <span class="c1"># 1. It&#39;s the minimum of the grid, not a subset of the grid defined by &#39;region&#39;.</span>
    <span class="c1"># 2. The GMT docs says &quot;if -R was used to set zmin/zmax then we use that value if</span>
    <span class="c1">#    it is less than the grid minimum value.&quot;. We can&#39;t add a workaround for this</span>
    <span class="c1">#    case since we can&#39;t parse zmin/zmax from &#39;region&#39; if &#39;region&#39; was set in</span>
    <span class="c1">#    previous plotting commands.</span>
    <span class="c1"># TODO(GMT&gt;6.6.0): Remove this workaround.</span>
    <span class="k">if</span> <span class="n">Version</span><span class="p">(</span><span class="n">__gmt_version__</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">Version</span><span class="p">(</span><span class="s2">&quot;6.6.0&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">plane</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">plane</span> <span class="o">=</span> <span class="n">grdinfo</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">per_column</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">4</span><span class="p">]</span>

    <span class="n">aliasdict</span> <span class="o">=</span> <span class="n">AliasSystem</span><span class="p">(</span>
        <span class="n">Jz</span><span class="o">=</span><span class="n">Alias</span><span class="p">(</span><span class="n">zscale</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;zscale&quot;</span><span class="p">),</span>
        <span class="n">JZ</span><span class="o">=</span><span class="n">Alias</span><span class="p">(</span><span class="n">zsize</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;zsize&quot;</span><span class="p">),</span>
        <span class="n">Q</span><span class="o">=</span><span class="n">_alias_option_Q</span><span class="p">(</span>
            <span class="n">surftype</span><span class="o">=</span><span class="n">surftype</span><span class="p">,</span>
            <span class="n">dpi</span><span class="o">=</span><span class="n">dpi</span><span class="p">,</span>
            <span class="n">mesh_fill</span><span class="o">=</span><span class="n">mesh_fill</span><span class="p">,</span>
            <span class="n">monochrome</span><span class="o">=</span><span class="n">monochrome</span><span class="p">,</span>
            <span class="n">nan_transparent</span><span class="o">=</span><span class="n">nan_transparent</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">N</span><span class="o">=</span><span class="p">[</span>
            <span class="n">Alias</span><span class="p">(</span><span class="n">plane</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;plane&quot;</span><span class="p">),</span>
            <span class="n">Alias</span><span class="p">(</span><span class="n">facade_fill</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;facade_fill&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;+g&quot;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="n">Wc</span><span class="o">=</span><span class="n">Alias</span><span class="p">(</span><span class="n">contour_pen</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;contour_pen&quot;</span><span class="p">),</span>
        <span class="n">Wf</span><span class="o">=</span><span class="n">Alias</span><span class="p">(</span><span class="n">facade_pen</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;facade_pen&quot;</span><span class="p">),</span>
        <span class="n">Wm</span><span class="o">=</span><span class="n">Alias</span><span class="p">(</span><span class="n">mesh_pen</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mesh_pen&quot;</span><span class="p">),</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_common</span><span class="p">(</span>
        <span class="n">B</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
        <span class="n">J</span><span class="o">=</span><span class="n">projection</span><span class="p">,</span>
        <span class="n">R</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
        <span class="n">V</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="n">panel</span><span class="p">,</span>
        <span class="n">p</span><span class="o">=</span><span class="n">perspective</span><span class="p">,</span>
        <span class="n">t</span><span class="o">=</span><span class="n">transparency</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">aliasdict</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">lib</span><span class="p">:</span>
        <span class="k">with</span> <span class="p">(</span>
            <span class="n">lib</span><span class="o">.</span><span class="n">virtualfile_in</span><span class="p">(</span><span class="n">check_kind</span><span class="o">=</span><span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">grid</span><span class="p">)</span> <span class="k">as</span> <span class="n">vingrd</span><span class="p">,</span>
            <span class="n">lib</span><span class="o">.</span><span class="n">virtualfile_in</span><span class="p">(</span>
                <span class="n">check_kind</span><span class="o">=</span><span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;G&quot;</span><span class="p">),</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">vdrapegrid</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">aliasdict</span><span class="p">[</span><span class="s2">&quot;G&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vdrapegrid</span>
            <span class="n">lib</span><span class="o">.</span><span class="n">call_module</span><span class="p">(</span>
                <span class="n">module</span><span class="o">=</span><span class="s2">&quot;grdview&quot;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">build_arg_list</span><span class="p">(</span><span class="n">aliasdict</span><span class="p">,</span> <span class="n">infile</span><span class="o">=</span><span class="n">vingrd</span><span class="p">)</span>
            <span class="p">)</span>
</pre></div>

           </div>
          </div>
          
<footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2026, The PyGMT Developers.
      <span class="commit">Revision <code><a href="https://github.com/GenericMappingTools/pygmt/commit/81de8f0e2">81de8f0e</a></code>.
      </span>
      <span class="lastupdated">Last updated on Feb 20, 2026.
      </span></p>
  </div>

  
<p>
Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
provided by <a href="https://readthedocs.org">Read the Docs</a>
</p>
<p>
This website uses Google Analytics to gather usage statistics.
However, it does not use cookies or track you across different websites.
Page view data are used to help us improve the site and provide an estimate of the
software usage.
</p>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>