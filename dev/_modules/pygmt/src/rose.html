
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>pygmt.src.rose &mdash; PyGMT</title>
    

      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <!-- Google Analytics tracking code -->
    <!-- See https://developers.google.com/analytics/devguides/collection/analyticsjs/ for documentation. -->
    <!-- 'storage': 'none' disables cookies -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
            Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-38125837-7', 'auto', {'storage': 'none'});
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>

    <!-- Documentation switcher -->
    <!-- Point to the *dev* version switcher. This will allow the latest versions to appear on older documentation. -->
    <script type="text/javascript" src="/dev/_static/version_switch.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href="../../../index.html"><h2 class="sidebar-title">PyGMT</h2></a>

    
        
        
            <div class="version">
                dev
            </div>
        
    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get-started/index.html">Intro to PyGMT</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../projections/index.html">Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../external_resources.html">External Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changes.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintenance.html">Maintainers Guide</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help and contributing</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt/blob/main/CODE_OF_CONDUCT.md"><i class="fa fa-gavel fa-fw"></i> Code of Conduct</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt/blob/main/LICENSE.txt"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org"><i class="fa fa-comment fa-fw"></i> Contact</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">PyGMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Module code</a> &raquo;</li>
          <li><a href="../../pygmt.html">pygmt</a> &raquo;</li>
      <li>pygmt.src.rose</li>
    <li class="source-link">
        
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pygmt.src.rose</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">rose - Plot windrose diagrams or polar histograms.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">pygmt.clib</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="kn">from</span> <span class="nn">pygmt.helpers</span> <span class="kn">import</span> <span class="n">build_arg_string</span><span class="p">,</span> <span class="n">fmt_docstring</span><span class="p">,</span> <span class="n">kwargs_to_strings</span><span class="p">,</span> <span class="n">use_alias</span>


<span class="nd">@fmt_docstring</span>
<span class="nd">@use_alias</span><span class="p">(</span>
    <span class="n">A</span><span class="o">=</span><span class="s2">&quot;sector&quot;</span><span class="p">,</span>
    <span class="n">B</span><span class="o">=</span><span class="s2">&quot;frame&quot;</span><span class="p">,</span>
    <span class="n">C</span><span class="o">=</span><span class="s2">&quot;cmap&quot;</span><span class="p">,</span>
    <span class="n">D</span><span class="o">=</span><span class="s2">&quot;shift&quot;</span><span class="p">,</span>
    <span class="n">Em</span><span class="o">=</span><span class="s2">&quot;vectors&quot;</span><span class="p">,</span>
    <span class="n">F</span><span class="o">=</span><span class="s2">&quot;no_scale&quot;</span><span class="p">,</span>
    <span class="n">G</span><span class="o">=</span><span class="s2">&quot;color&quot;</span><span class="p">,</span>
    <span class="n">I</span><span class="o">=</span><span class="s2">&quot;inquire&quot;</span><span class="p">,</span>
    <span class="n">JX</span><span class="o">=</span><span class="s2">&quot;diameter&quot;</span><span class="p">,</span>
    <span class="n">L</span><span class="o">=</span><span class="s2">&quot;labels&quot;</span><span class="p">,</span>
    <span class="n">M</span><span class="o">=</span><span class="s2">&quot;vector_params&quot;</span><span class="p">,</span>
    <span class="n">Q</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
    <span class="n">R</span><span class="o">=</span><span class="s2">&quot;region&quot;</span><span class="p">,</span>
    <span class="n">S</span><span class="o">=</span><span class="s2">&quot;norm&quot;</span><span class="p">,</span>
    <span class="n">T</span><span class="o">=</span><span class="s2">&quot;orientation&quot;</span><span class="p">,</span>
    <span class="n">U</span><span class="o">=</span><span class="s2">&quot;timestamp&quot;</span><span class="p">,</span>
    <span class="n">V</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span>
    <span class="n">W</span><span class="o">=</span><span class="s2">&quot;pen&quot;</span><span class="p">,</span>
    <span class="n">X</span><span class="o">=</span><span class="s2">&quot;xshift&quot;</span><span class="p">,</span>
    <span class="n">Y</span><span class="o">=</span><span class="s2">&quot;yshift&quot;</span><span class="p">,</span>
    <span class="n">Z</span><span class="o">=</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span>
    <span class="n">b</span><span class="o">=</span><span class="s2">&quot;binary&quot;</span><span class="p">,</span>
    <span class="n">d</span><span class="o">=</span><span class="s2">&quot;nodata&quot;</span><span class="p">,</span>
    <span class="n">e</span><span class="o">=</span><span class="s2">&quot;find&quot;</span><span class="p">,</span>
    <span class="n">h</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">,</span>
    <span class="n">i</span><span class="o">=</span><span class="s2">&quot;incols&quot;</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="s2">&quot;panel&quot;</span><span class="p">,</span>
    <span class="n">p</span><span class="o">=</span><span class="s2">&quot;perspective&quot;</span><span class="p">,</span>
    <span class="n">t</span><span class="o">=</span><span class="s2">&quot;transparency&quot;</span><span class="p">,</span>
    <span class="n">w</span><span class="o">=</span><span class="s2">&quot;wrap&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="nd">@kwargs_to_strings</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;sequence_comma&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="s2">&quot;sequence_comma&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="s2">&quot;sequence&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">rose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plot windrose diagrams or polar histograms.</span>

<span class="sd">    Takes a matrix, (length,azimuth) pairs, or a file name as input</span>
<span class="sd">    and plots windrose diagrams or polar histograms (sector diagram</span>
<span class="sd">    or rose diagram).</span>

<span class="sd">    Must provide either ``data`` or ``length`` and ``azimuth``.</span>

<span class="sd">    Options include full circle and half circle plots. The outline</span>
<span class="sd">    of the windrose is drawn with the same color as</span>
<span class="sd">    :gmt-term:`MAP_DEFAULT_PEN`.</span>

<span class="sd">    Full option list at :gmt-docs:`rose.html`</span>

<span class="sd">    {aliases}</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : str or {table-like}</span>
<span class="sd">        Pass in either a file name to an ASCII data table, a 2D</span>
<span class="sd">        {table-classes}.</span>
<span class="sd">        Use option ``columns`` to choose which columns are length and azimuth,</span>
<span class="sd">        respectively. If a file with only azimuths is given, use ``columns`` to</span>
<span class="sd">        indicate the single column with azimuths; then all lengths are set to</span>
<span class="sd">        unity (see ``scale = &#39;u&#39;`` to set actual lengths to unity as well).</span>

<span class="sd">    length/azimuth : float or 1d arrays</span>
<span class="sd">        Length and azimuth values, or arrays of length and azimuth</span>
<span class="sd">        values</span>

<span class="sd">    orientation : bool</span>
<span class="sd">        Specifies that the input data are orientation data (i.e., have a</span>
<span class="sd">        180 degree ambiguity) instead of true 0-360 degree directions</span>
<span class="sd">        [Default is 0-360 degrees]. We compensate by counting each record</span>
<span class="sd">        twice: First as azimuth and second as azimuth +180. Ignored if</span>
<span class="sd">        range is given as -90/90 or 0/180.</span>

<span class="sd">    region : str or list</span>
<span class="sd">        *Required if this is the first plot command*.</span>
<span class="sd">        *r0/r1/az0/az1*.</span>
<span class="sd">        Specifies the &#39;region&#39; of interest in (*r*, *azimuth*) space. Here,</span>
<span class="sd">        *r0* is 0, *r1* is max length in units. For *az0* and *az1*,</span>
<span class="sd">        specify either -90/90 or 0/180 for half circle plot or 0/360 for</span>
<span class="sd">        full circle.</span>

<span class="sd">    diameter : str</span>
<span class="sd">         Sets the diameter of the rose diagram. If not given,</span>
<span class="sd">         then we default to a diameter of 7.5 cm.</span>

<span class="sd">    sector : str</span>
<span class="sd">         Gives the sector width in degrees for sector and rose diagram.</span>
<span class="sd">         Default ``&#39;0&#39;`` means windrose diagram. Append **+r** to draw rose</span>
<span class="sd">         diagram instead of sector diagram (e.g. ``&#39;10+r&#39;``).</span>

<span class="sd">    norm : bool</span>
<span class="sd">         Normalize input radii (or bin counts if ``sector_width`` is used)</span>
<span class="sd">         by the largest value so all radii (or bin counts) range from 0</span>
<span class="sd">         to 1.</span>

<span class="sd">    frame : str</span>
<span class="sd">         Set map boundary frame and axes attributes. Remember that *x*</span>
<span class="sd">         here is radial distance and *y* is azimuth. The ylabel may be</span>
<span class="sd">         used to plot a figure caption. The scale bar length is determined</span>
<span class="sd">         by the radial gridline spacing.</span>

<span class="sd">    scale : float or str</span>
<span class="sd">         Multiply the data radii by scale. E.g., use ``scale = 0.001`` to</span>
<span class="sd">         convert your data from m to km. To exclude the radii from</span>
<span class="sd">         consideration, set them all to unity with ``scale = &#39;u&#39;``</span>
<span class="sd">         [Default is no scaling].</span>

<span class="sd">    color : str</span>
<span class="sd">         Selects shade, color or pattern for filling the sectors [Default</span>
<span class="sd">         is no fill].</span>

<span class="sd">    cmap : str</span>
<span class="sd">        Give a CPT. The *r*-value for each sector is used to look-up the</span>
<span class="sd">        sector color. Cannot be used with a rose diagram.</span>

<span class="sd">    pen : str</span>
<span class="sd">        Set pen attributes for sector outline or rose plot, e.g.</span>
<span class="sd">        ``pen = &#39;0.5p&#39;``. [Default is no outline]. To change pen used to</span>
<span class="sd">        draw vector (requires ``vectors``) [Default is same as sector</span>
<span class="sd">        outline] use e.g. ``pen = &#39;v0.5p&#39;``.</span>

<span class="sd">    labels : str</span>
<span class="sd">         ``&#39;wlabel,elabel,slabel,nlabel&#39;``. Specify labels for the 0, 90,</span>
<span class="sd">         180, and 270 degree marks. For full-circle plot the default is</span>
<span class="sd">         WEST,EAST,SOUTH,NORTH and for half-circle the default is</span>
<span class="sd">         90W,90E,-,0. A **-** in any entry disables that label</span>
<span class="sd">         (e.g. ``labels = &#39;W,E,-,N&#39;``). Use ``labels = &#39;&#39;`` to disable</span>
<span class="sd">         all four labels. Note that the :gmt-term:`GMT_LANGUAGE` setting</span>
<span class="sd">         will affect the words used.</span>

<span class="sd">    no_scale : bool</span>
<span class="sd">         Do NOT draw the scale length bar (``no_scale = True``).</span>
<span class="sd">         Default plots scale in lower right corner provided ``frame``</span>
<span class="sd">         is used.</span>

<span class="sd">    shift : bool</span>
<span class="sd">         Shift sectors so that they are centered on the bin interval</span>
<span class="sd">         (e.g., first sector is centered on 0 degrees).</span>

<span class="sd">    vectors : str</span>
<span class="sd">          ``vectors = &#39;mode_file&#39;``. Plot vectors showing the</span>
<span class="sd">          principal directions given in the *mode_file* file.</span>
<span class="sd">          Alternatively, specify ``vectors`` to compute and plot</span>
<span class="sd">          mean direction. See ``vector_params`` to control the vector</span>
<span class="sd">          attributes. Finally, to instead save the computed mean</span>
<span class="sd">          direction and other statistics, use</span>
<span class="sd">          ``vectors = &#39;+wmode_file&#39;``. The eight items saved to</span>
<span class="sd">          a single record are: *mean_az*, *mean_r*, *mean_resultant*,</span>
<span class="sd">          *max_r*, *scaled_mean_r*, *length_sum*, *n*, *sign@alpha*,</span>
<span class="sd">          where the last term is 0 or 1 depending on whether the mean</span>
<span class="sd">          resultant is significant at the level of confidence set via</span>
<span class="sd">          ``alpha``.</span>

<span class="sd">    vector_params : str</span>
<span class="sd">        Used with ``vectors`` to modify vector parameters. For</span>
<span class="sd">        vector heads, append vector head size [Default is 0, i.e., a</span>
<span class="sd">        line]. See :gmt-docs:`rose.html#vector-attributes` for</span>
<span class="sd">        specifying additional attributes. If ``vectors`` is not</span>
<span class="sd">        given and the current plot mode is to draw a windrose diagram</span>
<span class="sd">        then using ``vector_params`` will add vector heads to all</span>
<span class="sd">        individual directions using the supplied attributes.</span>

<span class="sd">    alpha : float or str</span>
<span class="sd">        Sets the confidence level used to determine if the mean</span>
<span class="sd">        resultant is significant (i.e., Lord Rayleigh test for</span>
<span class="sd">        uniformity) [``alpha = 0.05``]. Note: The critical</span>
<span class="sd">        values are approximated [Berens, 2009] and requires at</span>
<span class="sd">        least 10 points; the critical resultants are accurate to at</span>
<span class="sd">        least 3 significant digits. For smaller data sets you</span>
<span class="sd">        should consult exact statistical tables.</span>

<span class="sd">        Berens, P., 2009, CircStat: A MATLAB Toolbox for Circular</span>
<span class="sd">        Statistics, *J. Stat. Software*, 31(10), 1-21,</span>
<span class="sd">        https://doi.org/10.18637/jss.v031.i10.</span>

<span class="sd">    {U}</span>
<span class="sd">    {V}</span>
<span class="sd">    {XY}</span>
<span class="sd">    {b}</span>
<span class="sd">    {c}</span>
<span class="sd">    {d}</span>
<span class="sd">    {e}</span>
<span class="sd">    {h}</span>
<span class="sd">    {i}</span>
<span class="sd">    {p}</span>
<span class="sd">    {t}</span>
<span class="sd">    {w}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_preprocess</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pylint: disable=protected-access</span>

    <span class="k">with</span> <span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">lib</span><span class="p">:</span>
        <span class="c1"># Choose how data will be passed into the module</span>
        <span class="n">file_context</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">virtualfile_from_data</span><span class="p">(</span>
            <span class="n">check_kind</span><span class="o">=</span><span class="s2">&quot;vector&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">length</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">azimuth</span>
        <span class="p">)</span>

        <span class="k">with</span> <span class="n">file_context</span> <span class="k">as</span> <span class="n">fname</span><span class="p">:</span>
            <span class="n">lib</span><span class="o">.</span><span class="n">call_module</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="s2">&quot;rose&quot;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">build_arg_string</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">infile</span><span class="o">=</span><span class="n">fname</span><span class="p">))</span>
</pre></div>

           </div>
          </div>
          
<footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2022, The PyGMT Developers.
      <span class="commit">Revision <code><a href="https://github.com/GenericMappingTools/pygmt/commit/e5f5da9b">e5f5da9b</a></code>.
      </span>
      <span class="lastupdated">Last updated on Jul 02, 2022.
      </span></p>
  </div>

  
<p>
Built with <a href="http://sphinx-doc.org/">Sphinx</a>
using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
provided by <a href="https://readthedocs.org">Read the Docs</a>
</p>
<p>
This website uses Google Analytics to gather usage statistics.
However, it does not use cookies or track you across different websites.
Page view data are used to help us improve the site and provide an estimate of the
software usage.
</p>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>