
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/maps/choropleth_map.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_maps_choropleth_map.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_maps_choropleth_map.py:


Choropleth map
==============

The :meth:`pygmt.Figure.choropleth` method allows us to plot geographical data such as
polygons which are stored in a :class:`geopandas.GeoDataFrame` object or an OGR_GMT
file. Use :func:`geopandas.read_file` to load data from any supported OGR formats such
as a shapefile (.shp), GeoJSON (.geojson), geopackage (.gpkg), etc. You can also use a
full URL pointing to your desired data source. Then, pass the
:class:`geopandas.GeoDataFrame` as an argument to the ``data`` parameter of
:meth:`pygmt.Figure.choropleth`, and style the geometry using the ``pen`` parameter. To
fill the polygons based on a corresponding column you need to specify the column name to
the ``column`` parameter.

.. GENERATED FROM PYTHON SOURCE LINES 17-49



.. image-sg:: /gallery/maps/images/sphx_glr_choropleth_map_001.png
   :alt: choropleth map
   :srcset: /gallery/maps/images/sphx_glr_choropleth_map_001.png
   :class: sphx-glr-single-img





.. code-block:: Python

    import geopandas as gpd
    import pygmt
    from pygmt.params.position import Position

    provider = "https://naciscdn.org/naturalearth"
    world = gpd.read_file(f"{provider}/110m/cultural/ne_110m_admin_0_countries.zip")

    # The dataset contains different attributes, here we focus on the population within
    # the different countries (column "POP_EST") for the continent "Africa".
    world["POP_EST"] *= 1e-6
    africa = world[world["CONTINENT"] == "Africa"].copy()

    fig = pygmt.Figure()
    fig.basemap(region=[-19.5, 53, -37.5, 38], projection="M10c", frame="+n")

    # First, we define the colormap to fill the polygons based on the "POP_EST" column.
    pygmt.makecpt(cmap="SCM/acton", series=(0, 100), reverse=True)

    # Next, we plot the polygons and fill them using the defined colormap. The target column
    # is defined by the aspatial parameter.
    fig.choropleth(data=africa, column="POP_EST", pen="0.8p,gray50")

    # Add colorbar legend.
    fig.colorbar(
        frame="x+lPopulation (millions)",
        position=Position("ML", offset=(2, -2.5)),
        length=5,
        fg_triangle=True,
        triangle_height=0.2,
        move_text="label",
    )
    fig.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.630 seconds)


.. _sphx_glr_download_gallery_maps_choropleth_map.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: choropleth_map.ipynb <choropleth_map.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: choropleth_map.py <choropleth_map.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: choropleth_map.zip <choropleth_map.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
