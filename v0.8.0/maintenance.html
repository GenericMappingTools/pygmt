
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>Maintainers Guide &mdash; PyGMT</title>
    

      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <link rel="canonical" href="https://pygmt.org/latest/maintenance.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/design-tabs.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Contributors Guide" href="contributing.html" />
    <!-- Google Analytics tracking code -->
    <!-- See https://developers.google.com/analytics/devguides/collection/analyticsjs/ for documentation. -->
    <!-- 'storage': 'none' disables cookies -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
            Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-38125837-7', 'auto', {'storage': 'none'});
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>

    <!-- Documentation switcher -->
    <!-- Point to the *dev* version switcher. This will allow the latest versions to appear on older documentation. -->
    <script type="text/javascript" src="/dev/_static/version_switch.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href="index.html"><h2 class="sidebar-title">PyGMT</h2></a>

    
        
        
            <div class="version">
                v0.8.0
            </div>
        
    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_started/index.html">Intro to PyGMT</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery/index.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="projections/index.html">Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_resources.html">External Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="team.html">Team Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributors Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Maintainers Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#onboarding-access-checklist">Onboarding Access Checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="#branches">Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-github-issues">Managing GitHub Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviewing-and-merging-pull-requests">Reviewing and Merging Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-integration">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-documentation">Continuous Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies-policy">Dependencies Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backwards-compatibility-and-deprecation-policy">Backwards Compatibility and Deprecation Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#making-a-release">Making a Release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#updating-the-changelog">Updating the Changelog</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-the-readme-syntax">Check the README Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pushing-to-pypi-and-updating-the-documentation">Pushing to PyPI and Updating the Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#archiving-on-zenodo">Archiving on Zenodo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-the-conda-package">Updating the Conda Package</a></li>
</ul>
</li>
</ul>
</li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help and contributing</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/.github/blob/main/CODE_OF_CONDUCT.md"><i class="fa fa-gavel fa-fw"></i> Code of Conduct</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt/blob/main/LICENSE.txt"><i class="fa fa-book fa-fw"></i> License</a></li>
            
                <li class="toctree-l1"><a href="https://forum.generic-mapping-tools.org"><i class="fa fa-comment fa-fw"></i> Contact</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/GenericMappingTools/pygmt"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyGMT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
<div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Maintainers Guide</li>
    <li class="source-link">
        
            
                <a href="https://github.com/GenericMappingTools/pygmt/edit/main/doc/maintenance.md"
                   class="fa fa-github"> Improve this page</a>
            
        
    </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="maintainers-guide">
<h1>Maintainers Guide<a class="headerlink" href="#maintainers-guide" title="Permalink to this heading"></a></h1>
<p>This page contains instructions for project maintainers about how our setup works,
making releases, creating packages, etc.</p>
<p>If you want to make a contribution to the project, see the
<a class="reference external" href="https://github.com/GenericMappingTools/pygmt/blob/main/CONTRIBUTING.md">Contributing Guide</a>
instead.</p>
<section id="onboarding-access-checklist">
<h2>Onboarding Access Checklist<a class="headerlink" href="#onboarding-access-checklist" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Added to <a class="reference external" href="https://github.com/orgs/GenericMappingTools/teams/python-maintainers">python-maintainers</a> team in the <a class="reference external" href="https://github.com/orgs/GenericMappingTools/teams/">GenericMappingTools</a> organization on GitHub (gives ‘maintain’ permissions)</p></li>
<li><p>Added as collaborator on <a class="reference external" href="https://dagshub.com/GenericMappingTools/pygmt/settings/collaboration">DAGsHub</a> (gives ‘write’ permission to dvc remote storage)</p></li>
<li><p>Added as moderator on <a class="reference external" href="https://forum.generic-mapping-tools.org">GMT forum</a> (to see mod-only discussions)</p></li>
<li><p>Added as member on the <a class="reference external" href="https://pygmtdevs.slack.com">PyGMT devs Slack channel</a> (for casual conversations)</p></li>
<li><p>Added as maintainer on <a class="reference external" href="https://pypi.org/project/pygmt/">PyPI</a> and <a class="reference external" href="https://test.pypi.org/project/pygmt">Test PyPI</a> [optional]</p></li>
<li><p>Added as member on <a class="reference external" href="https://hackmd.io/&#64;pygmt">HackMD</a> [optional]</p></li>
</ul>
</section>
<section id="branches">
<h2>Branches<a class="headerlink" href="#branches" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><em>main</em>: Always tested and ready to become a new version. Don’t push directly to this
branch. Make a new branch and submit a pull request instead.</p></li>
<li><p><em>gh-pages</em>: Holds the HTML documentation and is served by GitHub. Pages for the main
branch are in the <code class="docutils literal notranslate"><span class="pre">dev</span></code> folder. Pages for each release are in their own folders.
<strong>Automatically updated by GitHub Actions</strong> so you shouldn’t have to make commits here.</p></li>
</ul>
</section>
<section id="managing-github-issues">
<h2>Managing GitHub Issues<a class="headerlink" href="#managing-github-issues" title="Permalink to this heading"></a></h2>
<p>A few guidelines for managing GitHub issues:</p>
<ul class="simple">
<li><p>Assign <a class="reference external" href="https://github.com/GenericMappingTools/pygmt/labels">labels</a> and the expected
<a class="reference external" href="https://github.com/GenericMappingTools/pygmt/milestones">milestone</a> to issues as
appropriate.</p></li>
<li><p>When people request to work on an open issue, either assign the issue to that person
and post a comment about the assignment or explain why you are not assigning the
issue to them and, if possible, recommend other issues for them to work on.</p></li>
<li><p>People with write access should self-assign issues and/or comment on the issues that
they will address.</p></li>
<li><p>For upstream bugs, close the issue after an upstream release fixes the bug. If
possible, post a comment when an upstream PR is merged that fixes the problem, and
consider adding a regression test for serious bugs.</p></li>
</ul>
</section>
<section id="reviewing-and-merging-pull-requests">
<h2>Reviewing and Merging Pull Requests<a class="headerlink" href="#reviewing-and-merging-pull-requests" title="Permalink to this heading"></a></h2>
<p>A few guidelines for reviewing:</p>
<ul class="simple">
<li><p>Always <strong>be polite</strong> and give constructive feedback.</p></li>
<li><p>Welcome new users and thank them for their time, even if we don’t plan on merging the
PR.</p></li>
<li><p>Don’t be harsh with code style or performance. If the code is bad, either (1) merge
the pull request and open a new one fixing the code and pinging the original submitter
(2) comment on the PR detailing how the code could be improved. Both ways are focused
on showing the contributor <strong>how to write good code</strong>, not shaming them.</p></li>
</ul>
<p>Pull requests should be <strong>squash merged</strong>.
This means that all commits will be collapsed into one.
The main advantages of this are:</p>
<ul class="simple">
<li><p>Eliminates experimental commits or commits to undo previous changes.</p></li>
<li><p>Makes sure every commit on the main branch passes the tests and has a defined purpose.</p></li>
<li><p>The maintainer writes the final commit message, so we can make sure it’s good and
descriptive.</p></li>
</ul>
</section>
<section id="continuous-integration">
<h2>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this heading"></a></h2>
<p>We use GitHub Actions continuous integration (CI) services to
build and test the project on Linux, macOS and Windows.
They rely on the <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file to install required dependencies using
conda and the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> to run the tests and checks.</p>
<p>There are 11 configuration files located in <code class="docutils literal notranslate"><span class="pre">.github/workflows</span></code>:</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">style_checks.yaml</span></code> (Code lint and style checks)</p>
<p>This is run on every commit to the <em>main</em> and pull request branches.
It is also scheduled to run daily on the <em>main</em> branch.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ci_tests.yaml</span></code> (Tests on Linux/macOS/Windows)</p>
<p>This is run on every commit to the <em>main</em> and pull request branches.
It is also scheduled to run regular tests daily and run full tests
(including doctests) on Wednesday on the <em>main</em> branch.
In draft pull requests, only two jobs on Linux are triggered to save on
Continuous Integration resources:</p>
<ul class="simple">
<li><p>Minimum <a class="reference external" href="https://numpy.org/neps/nep-0029-deprecation_policy">NEP29</a>
Python/NumPy versions</p></li>
<li><p>Latest Python/NumPy versions + optional packages (e.g. GeoPandas)</p></li>
</ul>
<p>This workflow is also responsible for uploading test coverage reports stored
in <code class="docutils literal notranslate"><span class="pre">.coverage.xml</span></code> to https://app.codecov.io/gh/GenericMappingTools/pygmt
via the <a class="reference external" href="https://github.com/codecov/codecov-action">Codecov GitHub Action</a>.
More codecov related configurations are stored in <code class="docutils literal notranslate"><span class="pre">.github/codecov.yml</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ci_docs.yml</span></code> (Build documentation on Linux/macOS/Windows)</p>
<p>This is run on every commit to the <em>main</em> and pull request branches.
In draft pull requests, only the job on Linux is triggered to save on
Continuous Integration resources.</p>
<p>On the <em>main</em> branch, the workflow also handles the documentation
deployment:</p>
<ul class="simple">
<li><p>Updating the development documentation by pushing the built HTML pages
from the <em>main</em> branch onto the <code class="docutils literal notranslate"><span class="pre">dev</span></code> folder of the <em>gh-pages</em> branch.</p></li>
<li><p>Updating the <code class="docutils literal notranslate"><span class="pre">latest</span></code> documentation link to the new release.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ci_tests_dev.yaml</span></code> (GMT Dev Tests on Linux/macOS/Windows).</p>
<p>This is triggered when a PR is marked as “ready for review”, or using the
slash command <code class="docutils literal notranslate"><span class="pre">/test-gmt-dev</span></code>. It is also scheduled to run on Monday,
Wednesday and Friday on the <em>main</em> branch.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cache_data.yaml</span></code> (Caches GMT remote data files needed for GitHub Actions CI)</p>
<p>This is scheduled to run every Sunday at 12:00 (UTC).
If new remote files are needed urgently, maintainers can manually uncomment
the ‘pull_request:’ line in that <code class="docutils literal notranslate"><span class="pre">cache_data.yaml</span></code> file to refresh the cache.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">publish-to-pypi.yml</span></code> (Publish wheels to PyPI and TestPyPI)</p>
<p>This workflow is run to publish wheels to PyPI and TestPyPI (for testing only).
Archives will be pushed to TestPyPI on every commit to the <em>main</em> branch
and tagged releases, and to PyPI for tagged releases only.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">release-drafter.yml</span></code> (Drafts the next release notes)</p>
<p>This workflow is run to update the next releases notes as pull requests are
merged into the main branch.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">check-links.yml</span></code> (Check links in the repository and website)</p>
<p>This workflow is run weekly to check all external links in plaintext and
HTML files. It will create an issue if broken links are found.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">format-command.yml</span></code> (Format the codes using slash command)</p>
<p>This workflow is triggered in a PR if the slash command <code class="docutils literal notranslate"><span class="pre">/format</span></code> is used.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dvc-diff.yml</span></code> (Report changes to test images on dvc remote)</p>
<p>This workflow is triggered in a PR when any *.png.dvc files have been added,
modified, or deleted. A GitHub comment will be published that contains a summary
table of the images that have changed along with a visual report.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">release-baseline-images.yml</span></code> (Upload the ZIP archive of baseline images as a release asset)</p>
<p>This workflow is run to upload the ZIP archive of baseline images as a release
asset when a release is published.</p>
</li>
</ol>
</section>
<section id="continuous-documentation">
<h2>Continuous Documentation<a class="headerlink" href="#continuous-documentation" title="Permalink to this heading"></a></h2>
<p>We use the <a class="reference external" href="https://readthedocs.org/">ReadtheDocs</a> service to preview changes
made to our documentation website every time we make a commit in a pull request.
The service has a configuration file <code class="docutils literal notranslate"><span class="pre">.readthedocs.yaml</span></code>, with a list of options
to change the default behaviour at https://docs.readthedocs.io/en/stable/config-file/index.html.</p>
</section>
<section id="dependencies-policy">
<h2>Dependencies Policy<a class="headerlink" href="#dependencies-policy" title="Permalink to this heading"></a></h2>
<p>PyGMT has adopted <a class="reference external" href="https://numpy.org/neps/nep-0029-deprecation_policy">NEP29</a>
alongside the rest of the Scientific Python ecosystem, and therefore supports:</p>
<ul class="simple">
<li><p>All minor versions of Python released 42 months prior to the project,
and at minimum the two latest minor versions.</p></li>
<li><p>All minor versions of NumPy released in the 24 months prior to the project,
and at minimum the last three minor versions.</p></li>
</ul>
<p>In <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, the <code class="docutils literal notranslate"><span class="pre">requires-python</span></code> key should be set to the minimum
supported version of Python. Minimum Python and NumPy version support should be
adjusted upward on every major and minor release, but never on a patch release.</p>
</section>
<section id="backwards-compatibility-and-deprecation-policy">
<h2>Backwards Compatibility and Deprecation Policy<a class="headerlink" href="#backwards-compatibility-and-deprecation-policy" title="Permalink to this heading"></a></h2>
<p>PyGMT is still undergoing rapid development. All of the API is subject to change
until the v1.0.0 release. Versioning in PyGMT is based on the
<a class="reference external" href="https://semver.org/spec/v2.0.0.html">semantic versioning specification</a> (e.g. vMAJOR.MINOR.PATCH).
Basic policy for backwards compatibility:</p>
<ul class="simple">
<li><p>Any incompatible changes should go through the deprecation process below.</p></li>
<li><p>Incompatible changes are only allowed in major and minor releases, not in
patch releases.</p></li>
<li><p>Incompatible changes should be documented in the release notes.</p></li>
</ul>
<p>When making incompatible changes, we should follow the process:</p>
<ul class="simple">
<li><p>Discuss whether the incompatible changes are necessary on GitHub.</p></li>
<li><p>Make the changes in a backwards compatible way, and raise a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>
warning for the old usage. At least one test using the old usage should be added.</p></li>
<li><p>The warning message should clearly explain the changes and include the versions
in which the old usage is deprecated and is expected to be removed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> warning should appear for 2-4 minor versions, depending on
the impact of the changes. It means the deprecation period usually lasts
3-12 months.</p></li>
<li><p>Remove the old usage and warning when reaching the declared version.</p></li>
</ul>
<p>To rename a function parameter, add the <code class="docutils literal notranslate"><span class="pre">&#64;deprecate_parameter</span></code> decorator near
the top after the <code class="docutils literal notranslate"><span class="pre">&#64;fmt_docstring</span></code> decorator but before the <code class="docutils literal notranslate"><span class="pre">&#64;use_alias</span></code>
decorator (if those two exist). Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@fmt_docstring</span>
<span class="nd">@deprecate_parameter</span><span class="p">(</span><span class="s2">&quot;columns&quot;</span><span class="p">,</span> <span class="s2">&quot;incols&quot;</span><span class="p">,</span> <span class="s2">&quot;v0.4.0&quot;</span><span class="p">,</span> <span class="n">remove_version</span><span class="o">=</span><span class="s2">&quot;v0.6.0&quot;</span><span class="p">)</span>
<span class="nd">@use_alias</span><span class="p">(</span><span class="n">J</span><span class="o">=</span><span class="s2">&quot;projection&quot;</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="s2">&quot;region&quot;</span><span class="p">,</span> <span class="n">V</span><span class="o">=</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="s2">&quot;incols&quot;</span><span class="p">)</span>
<span class="nd">@kwargs_to_strings</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="s2">&quot;sequence&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="s2">&quot;sequence_comma&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>In this case, the old parameter name <code class="docutils literal notranslate"><span class="pre">columns</span></code> is deprecated since v0.4.0, and
will be fully removed in v0.6.0. The new parameter name is <code class="docutils literal notranslate"><span class="pre">incols</span></code>.</p>
</section>
<section id="making-a-release">
<h2>Making a Release<a class="headerlink" href="#making-a-release" title="Permalink to this heading"></a></h2>
<p>We try to automate the release process as much as possible.
GitHub Actions workflow handles publishing new releases to PyPI and updating the documentation.
The version number is set automatically using setuptools_scm based information
obtained from git.
There are a few steps that still must be done manually, though.</p>
<section id="updating-the-changelog">
<h3>Updating the Changelog<a class="headerlink" href="#updating-the-changelog" title="Permalink to this heading"></a></h3>
<p>The Release Drafter GitHub Action will automatically keep a draft changelog at
https://github.com/GenericMappingTools/pygmt/releases, adding a new entry
every time a pull request (with a proper label) is merged into the main branch.
This release drafter tool has two configuration files, one for the GitHub Action
at .github/workflows/release-drafter.yml, and one for the changelog template
at .github/release-drafter.yml. Configuration settings can be found at
https://github.com/release-drafter/release-drafter.</p>
<p>The drafted release notes are not perfect, so we will need to tidy it prior to
publishing the actual release notes at https://www.pygmt.org/latest/changes.html.</p>
<ol class="arabic">
<li><p>Go to https://github.com/GenericMappingTools/pygmt/releases and click on the
‘Edit’ button next to the current draft release note. Copy the text of the
automatically drafted release notes under the ‘Write’ tab to
<code class="docutils literal notranslate"><span class="pre">doc/changes.md</span></code>. Add a section separator <code class="docutils literal notranslate"><span class="pre">---</span></code> between the new and old
changelog sections.</p></li>
<li><p>Update the DOI badge in the changelog. Remember to replace the DOI number
inside the badge url.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[![Digital Object Identifier for PyGMT vX.Y.Z](https://zenodo.org/badge/DOI/10.5281/zenodo.&lt;INSERT-DOI-HERE&gt;.svg)](https://doi.org/10.5281/zenodo.&lt;INSERT-DOI-HERE&gt;)
</pre></div>
</div>
</li>
<li><p>Open a new pull request using the title ‘Changelog entry for vX.Y.Z’ with
the updated release notes, so that other people can help to review and
collaborate on the changelog curation process described next.</p></li>
<li><p>Edit the change list to remove any trivial changes (updates to the README,
typo fixes, CI configuration, test updates due to GMT releases, etc).</p></li>
<li><p>Sort the items within each section (i.e., New Features, Enhancements, etc.)
such that similar items are located near each other (e.g., new wrapped
modules and methods, gallery examples, API docs changes) and entries within each group
are alphabetical.</p></li>
<li><p>Move a few important items from the main sections to the highlights section.</p></li>
<li><p>Edit the list of people who contributed to the release, linking to their
GitHub accounts. Sort their names by the number of commits made since the
last release (e.g., use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">shortlog</span> <span class="pre">HEAD...v0.4.0</span> <span class="pre">-sne</span></code>).</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">README.rst</span></code> with new information on the new release version,
including a vX.Y.Z documentation link, and compatibility with
GMT/Python/NumPy versions. Follow
<a class="reference external" href="https://numpy.org/neps/nep-0029-deprecation_policy.html#detailed-description">NEP 29</a>
for compatibility updates.</p></li>
<li><p>Refresh citation information. Specifically, the BibTeX in <code class="docutils literal notranslate"><span class="pre">README.rst</span></code> and
<code class="docutils literal notranslate"><span class="pre">CITATION.cff</span></code> needs to be updated with any metadata changes, including the
DOI, release date, and version information. Please also follow
guidelines in <code class="docutils literal notranslate"><span class="pre">AUTHORSHIP.md</span></code> for updating the author list in the BibTeX.
More information about the <code class="docutils literal notranslate"><span class="pre">CITATION.cff</span></code> specification can be found at
https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md</p></li>
</ol>
</section>
<section id="check-the-readme-syntax">
<h3>Check the README Syntax<a class="headerlink" href="#check-the-readme-syntax" title="Permalink to this heading"></a></h3>
<p>GitHub is a bit forgiving when it comes to the RST syntax in the README but PyPI is not.
To check the README syntax, visit the
<a class="reference external" href="https://test.pypi.org/project/pygmt/#history">PyGMT TestPyPI release history</a>, select
the latest commit, and review the left sidebar and project description for any errors.</p>
</section>
<section id="pushing-to-pypi-and-updating-the-documentation">
<h3>Pushing to PyPI and Updating the Documentation<a class="headerlink" href="#pushing-to-pypi-and-updating-the-documentation" title="Permalink to this heading"></a></h3>
<p>After the changelog is updated, making a release can be done by going to
https://github.com/GenericMappingTools/pygmt/releases, editing the draft release,
and clicking on publish. A git tag will also be created, make sure that this
tag is a proper version number (following <a class="reference external" href="https://semver.org/">Semantic Versioning</a>)
with a leading <code class="docutils literal notranslate"><span class="pre">v</span></code>. E.g. <code class="docutils literal notranslate"><span class="pre">v0.2.1</span></code>.</p>
<p>Once the release/tag is created, this should trigger GitHub Actions to do all the work for us.
A new source distribution will be uploaded to PyPI, a new folder with the documentation
HTML will be pushed to <em>gh-pages</em>, and the <code class="docutils literal notranslate"><span class="pre">latest</span></code> link will be updated to point to
this new folder.</p>
</section>
<section id="archiving-on-zenodo">
<h3>Archiving on Zenodo<a class="headerlink" href="#archiving-on-zenodo" title="Permalink to this heading"></a></h3>
<p>Grab both the source code and baseline images ZIP files from the GitHub release page
and upload them to Zenodo using the previously reserved DOI.</p>
</section>
<section id="updating-the-conda-package">
<h3>Updating the Conda Package<a class="headerlink" href="#updating-the-conda-package" title="Permalink to this heading"></a></h3>
<p>When a new version is released on PyPI, conda-forge’s bot automatically creates version
updates for the feedstock. In most cases, the maintainers can simply merge that PR.</p>
<p>If changes need to be done manually, you can:</p>
<ol class="arabic simple">
<li><p>Fork the <a class="reference external" href="https://github.com/conda-forge/pygmt-feedstock">pygmt feedstock repository</a> if
you haven’t already. If you have a fork, update it.</p></li>
<li><p>Update the version number and sha256 hash on <code class="docutils literal notranslate"><span class="pre">recipe/meta.yaml</span></code>. You can get the hash
from the PyPI “Download files” section.</p></li>
<li><p>Add or remove any new dependencies (most are probably only <code class="docutils literal notranslate"><span class="pre">run</span></code> dependencies).</p></li>
<li><p>Make a new branch, commit, and push the changes <strong>to your personal fork</strong>.</p></li>
<li><p>Create a PR against the original feedstock main.</p></li>
<li><p>Once the CI tests pass, merge the PR or ask a maintainer to do so.</p></li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          
<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contributing.html" class="btn btn-neutral float-left" title="Contributors Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2022, The PyGMT Developers.
      <span class="commit">Revision <code><a href="https://github.com/GenericMappingTools/pygmt/releases/tag/v0.8.0">v0.8.0</a></code>.
      </span>
      <span class="lastupdated">Last updated on Dec 29, 2022.
      </span></p>
  </div>

  
<p>
Built with <a href="http://sphinx-doc.org/">Sphinx</a>
using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
provided by <a href="https://readthedocs.org">Read the Docs</a>
</p>
<p>
This website uses Google Analytics to gather usage statistics.
However, it does not use cookies or track you across different websites.
Page view data are used to help us improve the site and provide an estimate of the
software usage.
</p>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>